<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Вселенная Работышей</title>
  <meta name="theme-color" content="#F4EDE4">
  <script src="../version.js"></script>
  <link rel="stylesheet" href="../styles.css">
  <style>
    :root { --ctrl-h: 42px; }

    /* Панель фильтров */
    .filters-bar{
      display:flex; align-items:center; gap:12px; flex-wrap:wrap;
      background:#fff; border:1px solid #e9e3da; border-radius:12px;
      padding:10px 12px; box-shadow:0 6px 16px rgba(0,0,0,.05);
    }
    .filters-left{ display:flex; align-items:center; gap:12px; flex:1 1 420px; min-width:260px; }
    .filters-right{ display:flex; align-items:center; gap:10px; margin-left:auto; flex:0 1 auto; }
    .filters-bar input[type="search"],
    .filters-bar select, .filters-bar .btn, .sort-toggle{ height:var(--ctrl-h); padding:0 12px; border-radius:10px; }
    .filters-bar input[type="search"]{ flex:1 1 280px; min-width:200px; border:1px solid #ddd; background:#fff; }
    .filters-bar select{ border:1px solid #ddd; background:#fff; }
    .btn{ line-height:var(--ctrl-h); padding:0 14px; }
    .sort-controls{ display:flex; align-items:center; gap:6px; }
    .sort-toggle{ background:#fff; border:1px solid #ddd; cursor:pointer; font-size:18px; line-height:1; padding:4px 10px; }
    .sort-toggle:hover{ background:#f3f2ef; }

    /* Превью карточек и бейдж */
    .thumb-wrap{ position:relative; }
    .badge{
      position:absolute; top:8px; right:8px;
      background:#4A68A4; color:#fff; border-radius:999px;
      padding:4px 8px; font-size:11px; font-weight:700; line-height:1;
      box-shadow:0 4px 10px rgba(0,0,0,.12); pointer-events:none; user-select:none;
    }
    .badge--fan{ background:#C6A869; }

    /* Модальная «расширенная карточка» */
    .sheet[hidden]{ display:none; }
    .sheet{
      position:fixed; inset:0; z-index:1000;
      display:grid; place-items:center; padding:20px;
    }
    .sheet__backdrop{
      position:absolute; inset:0; background:rgba(0,0,0,.45);
    }
    .sheet__card{
      position:relative; z-index:1; background:#fff; border-radius:16px;
      width:min(860px, 96vw); box-shadow:0 24px 48px rgba(0,0,0,.3); overflow:hidden;
      display:grid; grid-template-columns: 1fr 1fr; gap:0;
    }
    .sheet__media{ background:#111; display:flex; align-items:center; justify-content:center; }
    .sheet__img{ max-width:100%; max-height:76vh; width:auto; height:auto; display:block; }
    .sheet__body{ padding:18px 18px 20px; display:flex; flex-direction:column; gap:10px; }
    .sheet__title-row{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .sheet__badge{
      background:#4A68A4; color:#fff; border-radius:999px; padding:4px 10px; font-size:12px; font-weight:700;
    }
    .sheet__badge--fan{ background:#C6A869; }
    .sheet__meta{ color:#6C7177; font-size:14px; }
    .sheet__desc{ font-size:15px; line-height:1.5; }
    .sheet__close{
      position:absolute; top:10px; right:10px; z-index:2;
      border:none; background:#f2f2f2; border-radius:10px; padding:6px 10px; cursor:pointer; font-size:14px;
    }
    .sheet__close:hover{ background:#e8e8e8; }

    @media (max-width: 880px){
      .sheet__card{ grid-template-columns: 1fr; }
      .sheet__img{ max-height:54vh; }
    }
    @media (max-width: 720px){
      .filters-left{ flex:1 1 100%; }
      .filters-right{ margin-left:0; flex:1 1 100%; justify-content:space-between; }
      .filters-bar input[type="search"]{ flex:1 1 100%; }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="/" class="logo"><img src="../images/logo.png" alt="Работыш"></a>
      <nav class="nav-main">
        <a class="btn" href="/">На главную</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <h1>Вселенная Работышей</h1>
        <p class="lead">Коллекция каноничных и фанатских Работышей — от офисных героев до самых неожиданных интерпретаций.</p>
      </div>
    </section>

    <section id="filters" class="filters">
      <div class="container">
        <div class="filters-bar">
          <div class="filters-left">
            <input id="q" type="search" placeholder="Поиск по имени…">
          </div>

          <div class="filters-right">
            <select id="type-by" aria-label="Категория">
              <option value="">Все категории</option>
              <option value="canon">Канон</option>
              <option value="fan">Фан</option>
            </select>

            <div class="sort-controls">
              <select id="sort-by" aria-label="Сортировка">
                <option value="new">По новизне</option>
                <option value="name">По алфавиту</option>
              </select>
              <button id="sort-dir" class="sort-toggle" title="Порядок сортировки">▼</button>
            </div>

            <button id="reset" class="btn btn-quiet" type="button">Сбросить</button>
          </div>
        </div>
      </div>
    </section>

    <section id="gallery" class="gallery">
      <div class="container">
        <div id="grid" class="grid" aria-live="polite"></div>
        <div id="empty" class="empty" hidden>Здесь пока пусто.</div>
      </div>
    </section>

    <section id="about" class="about">
      <div class="container">
        <h2>О проекте</h2>
        <p>Работыш — кот, который устал, но всё ещё делает вид, что работает. Этот сайт собирает канон и фан-версии персонажей.</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer-links">
      <a href="https://vk.com/rabotysh" target="_blank" rel="noopener">
        <img src="../images/vk.png" alt="VK" class="icon" width="32" height="32">
      </a>
      <a href="https://www.tiktok.com/@rabotysh" target="_blank" rel="noopener">
        <img src="../images/tiktok.png" alt="TikTok" class="icon" width="32" height="32">
      </a>
    </div>
  </footer>

  <!-- Расширенная карточка -->
  <div id="sheet" class="sheet" hidden aria-modal="true" role="dialog">
    <div class="sheet__backdrop"></div>
    <div class="sheet__card">
      <button id="sheet-close" class="sheet__close" type="button">✕</button>

      <div class="sheet__media">
        <img id="sheet-img" class="sheet__img" alt="">
      </div>

      <div class="sheet__body">
        <div class="sheet__title-row">
          <h3 id="sheet-title" style="margin:0"></h3>
          <span id="sheet-badge" class="sheet__badge">Канон</span>
        </div>
        <div id="sheet-author" class="sheet__meta"></div>
        <div id="sheet-desc" class="sheet__desc"></div>
      </div>
    </div>
  </div>

  <script src="app.js?v=5"></script>
</body>
</html>
